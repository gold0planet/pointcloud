# API接口文档

## 1. 点云文件上传

- **接口描述**：上传点云文件（支持.las、.laz、.ply、.pcd）
- **请求方法**：POST
- **请求路径**：`/api/files/upload`
- **请求类型**：`multipart/form-data`
- **请求参数**：
  - `file`：文件，必填，点云文件（.las/.laz/.ply/.pcd）
- **返回示例**：
```json
{
  "filename": "test.las",
  "message": "上传成功",
  "file_id": 1
}
```
- **说明**：
  - 文件名不能重复，否则会覆盖。
  - 文件大小建议不超过1G。

---

## 2. 获取点云渲染数据

- **接口描述**：获取指定点云文件的渲染数据（前1000个点的xyz和rgb）
- **请求方法**：GET
- **请求路径**：`/api/pointcloud/{file_id}/view`
- **路径参数**：
  - `file_id`：文件名（如`test.las`、`demo.ply`），需与上传时一致
- **返回示例**：
```json
{
  "file_id": "test.las",
  "points": [
    { "x": 123.45, "y": 67.89, "z": 10.11, "r": 255, "g": 128, "b": 64 },
    { "x": 124.45, "y": 68.89, "z": 11.11, "r": 250, "g": 120, "b": 60 }
    // ... 共最多1000个点
  ]
}
```
- **说明**：
  - 仅返回前1000个点，适合前端预览和渲染。
  - 若点云文件无颜色信息，rgb默认为255。

---

## 3. 未来扩展接口（预留）

- 点云测量、标注、截图等接口可根据需求扩展。
- 文件元数据、列表、删除等接口可后续补充。